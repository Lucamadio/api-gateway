<spring:beans xmlns="http://membrane-soa.org/proxies/1/"
	xmlns:spring="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
					    http://membrane-soa.org/proxies/1/ http://membrane-soa.org/schemas/proxies-1.xsd">

	<router>

		<!-- Default name -->
		<OpenAPIProxy name="OpenAPI" port="2000">
            <spec location="contacts-api-v1.yml" validate="all"/>
        </OpenAPIProxy>

		<serviceProxy port="3000">
			<path isRegExp="true">/contacts/persons/.+</path>
            <return statusCode="204"/>
        </serviceProxy>

		
		<serviceProxy port="4444">
			<prometheus />
		</serviceProxy>


		<serviceProxy port="3000">
			<path>/contacts/persons</path>
			<response>
				<template contentType="application/json">
					{ 
						"persons": [ 
							{
								"id": "9B5C8D67-04EA-4A30-8DEF-4A5B071E0219",
								"name": "Augustus"
							},
							{
								"id": "AF99FC67-B0B1-4CFA-A919-66E1B31EEEDD",
								"name": "Konstantin"
							}
						] 
					}
				</template>
			</response>
            <return/>
        </serviceProxy>

		<serviceProxy name="Console" port="9000">
            <adminConsole/>
        </serviceProxy>

	</router>
	
</spring:beans>
